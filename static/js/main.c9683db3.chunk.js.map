{"version":3,"sources":["Header.js","Footer.js","Api.js","Main.js","App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","Footer","Api","options","this","link","fetch","method","headers","authorization","body","JSON","stringify","long_url","then","res","ok","json","Promise","reject","status","data","Main","React","useState","setLongLink","value","setValue","error","setError","linkRef","useRef","api","handleError","e","target","length","test","handleCopy","document","querySelector","select","execCommand","textContent","onSubmit","preventDefault","current","shortLink","catch","err","ref","minLength","onChange","required","type","id","onClick","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"gTAgBeA,MAVf,SAAgBC,GAGR,OACI,wBAAQC,UAAU,uBAAlB,SACI,2D,MCGDC,MAVf,WAEQ,OACI,wBAAQD,UAAU,uBAAlB,SACI,mBAAGA,UAAU,oBAAb,6D,6BCRKE,E,WACjB,WAAYC,GAAU,oBAClBC,KAAKD,QAAUA,E,6CAGnB,SAAUE,GAEN,OADAD,KAAKC,KAAOA,EACLC,MAAM,uCAAwC,CACjDC,OAAQ,OACRC,QAAS,CACLC,cAAe,2CACf,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAU,CACjBC,SAAS,GAAD,OAAKT,KAAKC,UAGzBS,MAAK,SAACC,GACH,OAAIA,EAAIC,GACCD,EAAIE,OAGFC,QAAQC,OAAR,WAAmBJ,EAAIK,YAEnCN,MAAK,SAACO,GAEL,OAAOA,S,KCgDJC,MArEf,WAEI,MAAgCC,IAAMC,SAAS,IAA/C,mBAAiBC,GAAjB,WACA,EAA0BF,IAAMC,SAAS,IAAzC,mBAAOE,EAAP,KAAcC,EAAd,KACA,EAA0BJ,IAAMC,SAAS,IAAzC,mBAAOI,EAAP,KAAcC,EAAd,KAEMC,EAAUP,IAAMQ,SAWhBC,EAAM,IAAI9B,EAEV+B,EAAc,SAACC,GAEjB,OAA8B,IAA1BA,EAAEC,OAAOT,MAAMU,OACR,2BAED,qMAAyIC,KAAKH,EAAEC,OAAOT,OAGtJ,GAFA,+BAqBTY,EAAa,WACfC,SAASC,cAAc,qBAAqBC,SAC5CF,SAASG,YAAY,QACrBH,SAASC,cAAc,sBAAsBG,YAAc,WAK3D,OACI,qBAAK3C,UAAU,qBAAf,SACI,uBAAMA,UAAU,iBAAiB4C,SAzBxB,SAACV,GAClBA,EAAEW,iBAECf,EAAQgB,QAAQpB,QAAUE,GACzBI,EAAIe,UAAUjB,EAAQgB,QAAQpB,OAAOZ,MAAK,SAACC,GACvCY,EAASZ,EAAIV,MACbiC,EAAWvB,EAAIV,MACfkC,SAASC,cAAc,sBAAsBG,YAAc,aAC5DK,OAAM,SAACC,GACNpB,EAAS,SAAWoB,OAgBpB,UACI,uBAAOjD,UAAU,mBAAjB,kCACA,sBAAMA,UAAU,sBAChB,uBAAO0B,MAAOA,EAAOwB,IAAKpB,EAASqB,UAAU,IAAIC,SAlD5C,SAAClB,GAClBP,EAASO,EAAEC,OAAOT,OAClBG,EAASI,EAAYC,IACrBT,EAAYS,EAAEC,OAAOT,OACrBa,SAASC,cAAc,sBAAsBG,YAAc,IA8C0BU,UAAQ,EAACC,KAAK,MAAMtD,UAAU,qBACvG,sBAAOuD,GAAG,QAAQvD,UAAU,yBAA5B,SAAsD4B,IACtD,wBAAQ4B,QAASlB,EAAYiB,GAAG,OAAOvD,UAAU,mBAAmBsD,KAAK,SAAzE,kBACA,wBAAQA,KAAK,SAAUtD,UAAU,oBAAjC,2BCpDLyD,MAVf,WACE,OACE,sBAAKzD,UAAU,MAAf,UACE,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,QCES0D,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB9C,MAAK,YAAkD,IAA/C+C,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF7B,SAAS8B,eAAe,SAM1BX,M","file":"static/js/main.c9683db3.chunk.js","sourcesContent":["import React from 'react';\r\nimport './Header.css';\r\n\r\n\r\n\r\n\r\nfunction Header(props){\r\n\r\n  \r\n        return (\r\n            <header className=\"header root__section\">\r\n                <h1>Link shortener website</h1>\r\n            </header> \r\n        );\r\n    \r\n}\r\nexport default Header;","import React from 'react';\r\nimport './Footer.css';\r\n\r\n\r\nfunction Footer() {\r\n\r\n        return (\r\n            <footer className=\"footer root__section\">\r\n                <p className=\"footer__copyright\">© 2021 Link shortener website. Bit.ly API</p>\r\n            </footer>\r\n        );\r\n    \r\n}\r\n\r\nexport default Footer;","export default class Api{\r\n    constructor(options) {\r\n        this.options = options;\r\n    }\r\n\r\n    shortLink(link){\r\n        this.link = link;\r\n        return fetch('https://api-ssl.bitly.com/v4/shorten', {\r\n            method: 'POST',\r\n            headers: {\r\n                authorization: 'aa0400aad11d6a934d5063bbb1ddb504f3994352',\r\n                'Content-Type': 'application/json'\r\n              },\r\n            body: JSON.stringify({\r\n                long_url: `${this.link}`,\r\n            }),\r\n        })\r\n        .then((res) => {\r\n            if (res.ok) {\r\n              return res.json();\r\n            }\r\n        \r\n                return Promise.reject(` ${res.status}`);\r\n          })\r\n          .then((data) => {\r\n  \r\n            return data;\r\n          })                  \r\n\r\n    }\r\n\r\n\r\n\r\n\r\n}","import React from 'react';\r\nimport './Main.css';\r\nimport Api from './Api.js';\r\n\r\n\r\nfunction Main() {\r\n\r\n    const [longLink, setLongLink] = React.useState('');\r\n    const [value, setValue] = React.useState('');\r\n    const [error, setError] = React.useState('');\r\n\r\n    const linkRef = React.useRef();\r\n\r\n\r\n    const handleChange = (e) => {        \r\n        setValue(e.target.value);\r\n        setError(handleError(e));\r\n        setLongLink(e.target.value)\r\n        document.querySelector(\".main-form__copied\").textContent = \"\";\r\n\r\n    }\r\n\r\n    const api = new Api();\r\n\r\n    const handleError = (e) => {\r\n    \r\n        if (e.target.value.length === 0) {\r\n            return 'This is a required field';\r\n        }\r\n        else if (!/^((ftp|http|https):\\/\\/)?(www\\.)?([A-Za-zА-Яа-я0-9]{1}[A-Za-zА-Яа-я0-9\\-]*\\.?)*\\.{1}[A-Za-zА-Яа-я0-9-]{2,8}(\\/([\\w#!:.?+=&%@!\\-\\/])*)?/.test(e.target.value)) {\r\n            return 'There should be a link here';\r\n        } else {\r\n            return '';\r\n        }\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        if(linkRef.current.value && !error){\r\n            api.shortLink(linkRef.current.value).then((res) => {\r\n                setValue(res.link);\r\n                handleCopy(res.link)\r\n                document.querySelector(\".main-form__copied\").textContent = \"Copied!\";\r\n            }).catch((err) => {\r\n                setError(\"Error \" + err);\r\n              })\r\n        }\r\n        \r\n    }\r\n\r\n    const handleCopy = () => {\r\n        document.querySelector(\".main-form__input\").select();\r\n        document.execCommand(\"copy\");\r\n        document.querySelector(\".main-form__copied\").textContent = \"Copied!\";\r\n\r\n\r\n    }\r\n\r\n        return (\r\n            <div className=\"main root__section\">\r\n                <form className=\"form main-form\" onSubmit={handleSubmit}>\r\n                    <label className=\"main-form__label\">Write your link here</label>\r\n                    <span className=\"main-form__copied\"></span>\r\n                    <input value={value} ref={linkRef} minLength=\"5\" onChange={handleChange} required type=\"url\" className=\"main-form__input\"></input>\r\n                    <span  id=\"error\" className=\"error main-form__error\">{error}</span>      \r\n                    <button onClick={handleCopy} id=\"copy\" className=\" main-form__copy\" type=\"button\">Copy</button>      \r\n                    <button type=\"submit\"  className=\"main-form__button\">Shorten</button>\r\n                </form >\r\n            </div>\r\n        );\r\n    \r\n}\r\n\r\nexport default Main;","import './App.css';\nimport Header from './Header';\nimport Footer from './Footer';\nimport Main from './Main';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Header/>\n      <Main/>\n      <Footer/>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}